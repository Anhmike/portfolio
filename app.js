webpackJsonp([0],{0:function(t,e,n){"use strict";var r=n(1),o=n(224),c=n(22),i=n(239),s=n(269),a=n(272);c.enableProdMode(),r.bootstrap(s.AppComponent,[i.ROUTER_PROVIDERS,o.HTTP_PROVIDERS,o.JSONP_PROVIDERS,c.provide(i.LocationStrategy,{useClass:i.HashLocationStrategy}),a.QuoteService])},269:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,c=arguments.length,i=3>c?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>c?o(i):c>3?o(e,n,i):o(e,n))||i);return c>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},c=n(22),i=n(239),s=n(270),a=n(278),l=n(281),d=n(271),u=n(275),p=function(){function t(){this.title="Portfolio"}return t.prototype.ngOnInit=function(){componentHandler.upgradeDom()},t=r([c.Component({selector:"portfolio-app",styles:[n(282)],template:n(283),directives:[i.ROUTER_DIRECTIVES],providers:[d.StocksService,u.SnackbarService]}),i.RouteConfig([{path:"/",name:"Portfolio",component:s.PortfolioComponent,useAsDefault:!0},{path:"/Add",name:"Add",component:a.AddNewStockComponent},{path:"/About",name:"About",component:l.AboutComponent}]),o("design:paramtypes",[])],t)}();e.AppComponent=p},270:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,c=arguments.length,i=3>c?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>c?o(i):c>3?o(e,n,i):o(e,n))||i);return c>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},c=n(22),i=n(271),s=n(275),a=function(){function t(t){this._el=t}return t.prototype.ngAfterViewInit=function(){this._el.nativeElement.style.color="-"===this._el.nativeElement.textContent.substr(0,1)?"red":"green"},t=r([c.Directive({selector:"[greenRed]"}),o("design:paramtypes",[c.ElementRef])],t)}();e.GreenRed=a;var l=function(){function t(t,e){this._stocksService=t,this._snackbarService=e}return t.prototype.ngOnInit=function(){var t=this,e=window.setTimeout(function(){return t.loading=!0},500);this._stocksService.GetStocks().then(function(n){t.loading=!1,clearTimeout(e),t.stocks=n},function(n){t.loading=!1,clearTimeout(e),t._snackbarService.showSnackbar(n)})},t.prototype["delete"]=function(t){var e=this;this._stocksService.DeleteStock(t).then(function(t){return e.stocks=t})},t=r([c.Component({selector:"portfolio",styles:[n(276)],template:n(277),directives:[a]}),o("design:paramtypes",[i.StocksService,s.SnackbarService])],t)}();e.PortfolioComponent=l},271:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,c=arguments.length,i=3>c?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>c?o(i):c>3?o(e,n,i):o(e,n))||i);return c>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},c=n(22),i=n(272),s=function(){function t(t){this._quoteService=t,this.stocks=JSON.parse(localStorage.portfolio||"[]"),this.stockPrices={}}return t.prototype.DeleteStock=function(t){return this.stocks.splice(t,1),this.SaveToLocalStorage(),this.GetStocks()},t.prototype.GetStocks=function(){var t=this;return new Promise(function(e,n){var r=t.stocks.filter(function(e){return!t.stockPrices[e.Symbol]}).map(function(t){return t.Symbol});t._quoteService.getPrices(r).subscribe(function(e){return Object.assign(t.stockPrices,e)},function(){return n("Error loading data from YAHOO")},function(){return e(t.stocks.map(function(e){return{Symbol:e.Symbol,Name:e.Name,Quantity:e.Quantity,Price:t.stockPrices[e.Symbol].price,Change:t.stockPrices[e.Symbol].change}}))})})},t.prototype.AddStock=function(t,e){this.stocks.push({Symbol:t.symbol,Name:t.name,Quantity:e}),this.SaveToLocalStorage()},t.prototype.SaveToLocalStorage=function(){localStorage.portfolio=JSON.stringify(this.stocks)},t=r([c.Injectable(),o("design:paramtypes",[i.QuoteService])],t)}();e.StocksService=s},272:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,c=arguments.length,i=3>c?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>c?o(i):c>3?o(e,n,i):o(e,n))||i);return c>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},c=n(22),i=n(224),s=n(52);n(273);var a=function(){function t(t,e){this._http=t,this._jsonp=e}return t.prototype.getPrices=function(t){return 0===t.length?s.Observable.empty():this._http.get("http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20yahoo.finance.quote%20where%20symbol%20in%20(%22"+t.join("%22,%22")+"%22)&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys").map(function(t){return[].concat(t.json().query.results.quote).reduce(function(t,e){return Object.assign(t,(n={},n[e.Symbol]={price:e.LastTradePriceOnly,change:e.Change},n));var n},{})})},t.prototype.searchQuotes=function(t){var e=new i.URLSearchParams;return e.set("query",t),this._jsonp.get("https://s.yimg.com/aq/autoc?region=US&lang=en-US&callback=JSONP_CALLBACK",{search:e}).map(function(t){return t.json().ResultSet.Result})},t=r([c.Injectable(),o("design:paramtypes",[i.Http,i.Jsonp])],t)}();e.QuoteService=a},273:function(t,e,n){"use strict";var r=n(52),o=n(274);r.Observable.empty=o.EmptyObservable.create},274:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(52),c=function(t){function e(e){t.call(this),this.scheduler=e}return r(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){var e=t.subscriber;e.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;return n?n.schedule(e.dispatch,0,{subscriber:t}):void t.complete()},e}(o.Observable);e.EmptyObservable=c},275:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,c=arguments.length,i=3>c?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>c?o(i):c>3?o(e,n,i):o(e,n))||i);return c>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},c=n(22),i=function(){function t(){}return t.prototype.showSnackbar=function(t,e,n){document.querySelector("#menu-snackbar").MaterialSnackbar.showSnackbar({message:t,actionHandler:e,actionText:n})},t=r([c.Injectable(),o("design:paramtypes",[])],t)}();e.SnackbarService=i},276:function(t,e){t.exports=".mdl-grid {\r\n  margin-top: 20px;\r\n}\r\n\r\n.mdl-data-table {\r\n  width: 100%;\r\n}\r\n\r\n.mdl-progress {\r\n  width:100%;\r\n}"},277:function(t,e){t.exports='<div class="mdl-grid">\r\n  <div class="mdl-cell--8-col-desktop mdl-cell--2-offset-desktop">\r\n    <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">\r\n      <thead>\r\n        <tr>\r\n          <th class="mdl-data-table__cell--non-numeric">Stock</th>\r\n          <th>Quantity</th>\r\n          <th>Latest price</th>\r\n          <th class="mdl-cell--hide-phone">Value</th>\r\n          <th class="mdl-cell--hide-phone">Change</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor="#stock of stocks; #i = index" (click)="delete(i)">\r\n          <td class="mdl-data-table__cell--non-numeric">{{stock.Name}}</td>\r\n          <td>{{stock.Quantity}}</td>\r\n          <td>{{stock.Price*1 | number:\'1.2-2\'}}</td>\r\n          <td class="mdl-cell--hide-phone">{{stock.Price*stock.Quantity | number:\'1.2-2\'}}</td>\r\n          <td greenRed class="mdl-cell--hide-phone">{{stock.Change*1 | number:\'1.2-2\'}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div [hidden]="!loading" class="mdl-progress mdl-js-progress mdl-progress__indeterminate"></div>\r\n  </div>\r\n</div>'},278:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,c=arguments.length,i=3>c?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>c?o(i):c>3?o(e,n,i):o(e,n))||i);return c>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},c=n(22),i=n(272),s=n(271),a=n(275),l=n(239),d=function(){function t(t){this.elementRef=t}return t.prototype.ngAfterViewInit=function(){componentHandler.upgradeElement(this.elementRef.nativeElement.parentElement),this.elementRef.nativeElement.focus()},t=r([c.Directive({selector:"[mdlFocus]"}),o("design:paramtypes",[c.ElementRef])],t)}();e.MdlFocus=d;var u=function(){function t(t,e,n,r){this._quoteService=t,this._stocksService=e,this._snackbarService=n,this._router=r}return t.prototype.selectItem=function(t){var e=this;this._quoteService.getPrices([t.symbol]).subscribe(function(n){e.stocks=[t],e.stocks[0].price=n[t.symbol].price})},t.prototype.addItem=function(t,e){var n=this;this.stocks=[],this._stocksService.AddStock(t,e),this._snackbarService.showSnackbar("Added",function(){return n._router.navigate(["Portfolio",{}])},"Return to Portfolio")},t.prototype.submitQuery=function(t){var e=this;this.stocks=[],this._quoteService.searchQuotes(t).subscribe(function(t){return e.stocks=t})},t=r([c.Component({selector:"add-new-stock",styles:[n(279)],template:n(280),directives:[d]}),o("design:paramtypes",[i.QuoteService,s.StocksService,a.SnackbarService,l.Router])],t)}();e.AddNewStockComponent=u},279:function(t,e){t.exports="  .selected {\r\n    background-color: #CFD8DC !important;\r\n    color: white;\r\n  }\r\n  .stocks {\r\n    margin: 0 0 2em 0;\r\n    list-style-type: none;\r\n    padding: 0;\r\n  }\r\n  .stocks li:hover {\r\n    color: #607D8B;\r\n    background-color: #DDD;\r\n    left: .1em;\r\n  }\r\n  .stock-price {\r\n    font-size: 14px;\r\n    letter-spacing: 0;\r\n    line-height: 36px;\r\n    color: rgba(0,0,0,.54);\r\n    float:right\r\n  }"},280:function(t,e){t.exports='<div class="mdl-grid">\r\n  <div class=" mdl-cell--6-col-desktop mdl-cell--3-offset-desktop">\r\n    <div class="mdl-textfield mdl-js-textfield" style="width:100%">\r\n      <input class="mdl-textfield__input" type="text" mdlFocus id="addStock" #stock (keyup.enter)="submitQuery(stock.value)">\r\n      <label class="mdl-textfield__label" for="addStock">Stock</label>\r\n    </div>\r\n    <ul class="stocks mdl-list">\r\n      <li *ngFor="#stock of stocks" (click)="selectItem(stock)" class="mdl-list__item mdl-list__item--two-line">\r\n        <span class="mdl-list__item-primary-content">\r\n          <span class="stock-price">{{stock.price}}</span>\r\n          <span>{{stock.name}}</span>\r\n          <span class="mdl-list__item-sub-title">{{stock.exch}}:{{stock.symbol}}</span>\r\n        </span>\r\n        <span *ngIf="stock.price" class="mdl-list__item-secondary-content">\r\n          <div class="mdl-textfield mdl-js-textfield" style="width:80%">\r\n            <input class="mdl-textfield__input" mdlFocus pattern="-?[0-9]*(\\.[0-9]+)?" type="text" id="stockQuantity" #newItem (keyup.enter)="addItem(stock, newItem.value)">\r\n            <label class="mdl-textfield__label" for="stockQuantity">Quantity</label>\r\n          </div>\r\n        </span>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>'},281:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,c=arguments.length,i=3>c?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>c?o(i):c>3?o(e,n,i):o(e,n))||i);return c>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},c=n(22),i=function(){function t(){}return t=r([c.Component({selector:"about",template:'\n    <h2>Portfolio</h2>\n    <h4>Built with</h4>\n    <ul>\n    <li><a href="https://angular.io/">Angular2</a></li>\n    <li><a href="http://getmdl.io/">Material Design Lite</a></li>\n    <li><a href="http://www.yahooapis.com/">Yahoo! Developer Network</a></li>\n    </ul>\n  '}),o("design:paramtypes",[])],t)}();e.AboutComponent=i},282:function(t,e){t.exports='.mdl-layout__header {\r\n  position: fixed;\r\n}\r\n.mdl-layout__content {\r\n  margin-top: 68px;\r\n}\r\n\r\n.nav-link {\r\n  padding: 0 1em;\r\n  width: 100px;\r\n  color: rgba(255,255,255,.6);\r\n  text-align: center;\r\n  text-decoration: none;\r\n}\r\n\r\n.nav-link.router-link-active {\r\n  color: rgba(255,255,255, 1);\r\n}\r\n\r\n.nav-link.router-link-active::after {\r\n    height: 3px;\r\n    width: 100%;\r\n    display: block;\r\n    content: " ";\r\n    bottom: 0;\r\n    left: 0;\r\n    position: inherit;\r\n    background: rgba(255,255,255, 1);\r\n}\r\n\r\n.mdl-layout__header-row {\r\n    height: 56px;\r\n    padding: 0 16px 0 72px;\r\n    padding-left: 8px;\r\n}\r\n\r\n#add {\r\n  position: absolute;\r\n  right: 40px;\r\n  top: 50px;\r\n  z-index: 999;\r\n}'},283:function(t,e){t.exports='<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">\r\n  <header class="mdl-layout__header">\r\n    <div class="mdl-layout__header-row">\r\n      <span class="mdl-layout-title">{{title}}</span>\r\n    </div>\r\n    <div class="mdl-navigation">\r\n          <a [routerLink]="[\'Portfolio\']" href="" class="nav-link">Portfolio</a>\r\n          <a [routerLink]="[\'About\']" href="" class="nav-link">About</a>\r\n          <button [routerLink]="[\'Add\']" class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored mdl-shadow--4dp mdl-color--accent" id="add">\r\n            <i class="material-icons" role="presentation">add</i>\r\n            <span class="visuallyhidden">Add</span>\r\n          </button>\r\n    </div>\r\n  </header>\r\n  <main class="mdl-layout__content">\r\n    <section>\r\n        <router-outlet></router-outlet>\r\n    </section>\r\n    <div id="menu-snackbar" class="mdl-js-snackbar mdl-snackbar">\r\n      <div class="mdl-snackbar__text"></div>\r\n        <button class="mdl-snackbar__action" type="button"></button>\r\n    </div>\r\n  </main>\r\n</div>\r\n'}});